% Brian Mc George - MCGBRI004
% Jacques Heunis - HNSJAC003
% Timothy Gwynn - GWNTIM001
% Due: 31-07-2015
% Stage One - Software Engineering  - CSC3003S
\documentclass[a4paper,10pt]{article}
%**************************************************************************************************
% PACKAGES
%**************************************************************************************************
\usepackage{amsmath, amsthm, amsfonts, amssymb}
\usepackage{graphicx,color}
\usepackage{bm}
\usepackage{float}
\usepackage{caption, subcaption}
%\usepackage{vector}

%**************************************************************************************************
% DEFAULT SETTINGS
%**************************************************************************************************
\marginparwidth -20 true pt    % Width of marginal notes.
\oddsidemargin  -10 true pt       % Note that \oddsidemargin=\evensidemargin
\evensidemargin -10 true pt
\topmargin -0.5 true in        % Nominal distance from top of page to top of
\textheight 9.75 true in         % Height of text (including footnotes and figures)
\textwidth 7 true in        % Width of text line.
\parindent=10pt                  % Do not indent paragraphs
\parskip= 1 ex
\columnseprule = 0.1pt
\footskip = 30 true pt
\hoffset = -0.1 true in
\voffset = -0.1 true in
\abovedisplayskip 1 true pt
\abovedisplayshortskip 1 true pt
\topsep 0 true pt
\newcommand*\varhrulefill[1][0.4pt]{\leavevmode\leaders\hrule height#1\hfill\kern0pt}

%**************************************************************************************************
% DOCUMENT DETAILS
%**************************************************************************************************


%**************************************************************************************************
% MAIN DOCUMENT
%**************************************************************************************************

\begin{document}
\begin{titlepage} \begin{center}
		\textsc{\LARGE University of Cape Town}
		\\[1.5cm] \textsc{\Large Software Engineering Stage Three} \\\smallskip
        \textsc{\Large Progress Report} \\\smallskip
        \textsc{\Large CSC3003S} \\\smallskip
        \textsc{\Large \today} \\\smallskip
        \textsc{\Large August 7, 2015 - August 23, 2015}
		\\[0.5cm]
		\noindent\rule[0.4mm]{\textwidth}{0.1mm}
		\\[0.4cm] { \huge \bfseries Tempest Trace \\[0.4cm] }
		\noindent\rule[0.4mm]{\textwidth}{0.1mm}
		\\[1cm]
		\begin{minipage}[t]{0.4\textwidth}
		\begin{flushleft}\large \emph{Authors:}\\ Brian Mc George - MCGBRI004 \\ Jacques Heunis - HNSJAC003 \\ Timothy Gwynn - GWYTIM001
        \\[2cm]
            \end{flushleft}
		 \end{minipage} \begin{minipage}[t]{0.4\textwidth}
		\begin{flushright} \large \emph{Supervisor:} \\ Assoc. Prof.~Patrick Marais\\patrick@cs.uct.ac.za\end{flushright}
		\begin{flushright} \large \emph{Tutor:} \\ Codie Roelf\\Codie.Roelf@alumni.uct.ac.za\end{flushright}
		 \end{minipage}
		\end{center}
		\end{titlepage}
\newpage
\tableofcontents
\newpage

\section{Task activities during report period}
\subsection{Player}
\subsubsection{Movement - \textit{Jacques Heunis}}
The player can move within the world. The player can collide with objects in the world. The movement speed is configurable. The integration of the run animation is currently outstanding regarding this activity.
\smallskip\\\textbf{Tests prepared}\\
Description: Move player forward with no obstruction in the given direction.\\
Expected Result: Player moves forward at the speed configured.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Move player left with no obstruction in the given direction.\\
Expected Result: Player moves left at the speed configured.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Move player right with no obstruction in the given direction.\\
Expected Result: Player moves right at the speed configured.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Move player backwards with no obstruction in the given direction.\\
Expected Result: Player moves backwards at the speed configured.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Move player forwards with an obstruction in the given direction.\\
Expected Result: Player moves forwards at the speed configured until its collider connects with the obstruction, the player can then no longer move forward.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Move player left with an obstruction in the given direction.\\
Expected Result: Player moves left at the speed configured until its collider connects with the obstruction, the player can then no longer move left.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Move player right with an obstruction in the given direction.\\
Expected Result: Player moves right at the speed configured until its collider connects with the obstruction, the player can then no longer move right.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Move player backwards with an obstruction in the given direction.\\
Expected Result: Player moves backwards at the speed configured until its collider connects with the obstruction, the player can then no longer move backwards.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Run animation plays in direction of movement.\\
Expected Result: The run animation plays and makes player model look as if it is running in the given direction\\
Actual Result: No animation plays\\
Status: Failure
\subsubsection{Look - \textit{Jacques Heunis}}
The player can look within the world. The vertical look is locked to a configurable angle to be realistic. The head movement is currently outstanding.
\smallskip\\\textbf{Tests prepared}\\
Description: Player can can turn full 360 degrees horizontally\\
Expected Result: Players view turns horizontally by a configurable angle in the direction of the horizontal mouse movement.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Player can can turn head up to a bounded angle vertically\\
Expected Result: Player view turns vertically by a configurable angle in the direction of the vertical mouse movement. The players vertical view angle is prevented from exceeding the defined range\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Player head faces direction of look\\
Expected Result: Player head looks in the direction of the view.\\
Actual Result:  Head remains static.\\
Status: Failure
\subsubsection{Vault - \textit{Jacques Heunis}}
The player can vault over objects which are under a defined height (currently 1 metre) and are under a defined distance (currently 3 metres). The player must be running at least a defined speed (currently 5 metres per second) to initiate the vault action. The control of the player is taken away during the vault action. The integration of the vault animation is currently outstanding regarding this activity.
\smallskip\\\textbf{Tests prepared}\\
Description: Player can vault over object that is less than 1 metre high and has a distance that is less than 3 metres and is moving at least 5 metres per second. \\
Expected Result: Player vaults over object.\\
Actual Result:  As expected.\\
Status: Pass
\smallskip\\
Description: Player can not vault over object that is less than 1 metre high and a distance that is more than 3 metres or is moving at less than 5 metres per second. \\
Expected Result: Player climbs onto object.\\
Actual Result:  As expected.\\
Status: Pass
\smallskip\\
Description: Player can not vault over object that is more than 1 metre high\\
Expected Result: Player initiates a climb if it meets the climb parameters else initiates a jump.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Player vault animation plays if vault action initiated\\
Expected Result: The vault animation plays and makes the model look as if it is vaulting over the object.\\
Actual Result:  No animation plays.\\
Status: Failure
\subsubsection{Jump - \textit{Jacques Heunis}}
The player can jump if no other contextual action is available. Player jumps a defined amount upwards if the player is stationary. The player jumps a defined amount in the direction of movement if the player is moving. The integration of the  jump animation is outstanding regarding this activity.
\smallskip\\\textbf{Tests prepared}\\
Description: The player jumps upwards if no other contextual action available and player is stationary. \\
Expected Result: Player jumps upwards.\\
Actual Result:  As expected.\\
Status: Pass
\smallskip\\
Description: The player jumps in direction of motion if no other contextual action available and player is moving. \\
Expected Result: Player jumps in direction of motion.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: The player jump animation plays if player jumps. \\
Expected Result: Jump animation plays.\\
Actual Result:  No animation plays.\\
Status: Failure
\subsubsection{Climb - \textit{Jacques Heunis}}
The player climbs if it does not match the parameters of a vault and the object is less than a defined height (currently 3.05 metres). The player climbs up and onto the object on which the climb was initiated. The climb takes control away from the player during the action. The integration of the climb animation is outstanding regarding this activity.\smallskip\\\textbf{Tests prepared}\\
Description: The player climbs the object in front of it if it is unable to initiate a vault on the object and it is less than 3.05 metres tall. \\
Expected Result: Player climbs object.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: The player climbs animation plays during a climb. \\
Expected Result: Climb animation plays.\\
Actual Result:  No animation plays.\\
Status: Failure
\subsubsection{Slide - \textit{Jacques Heunis}}
The player slides if initiated by the player. The player can only slide if grounded. The player goes closer the the ground during the slide. The players velocity decreases during the slide. This activity is not yet completed. The gradient of the slope needs to affect the player slide velocity. The slide animation needs to be implemented.
\smallskip\\\textbf{Tests prepared}\\
Description: Slide can only be initiated when the player is grounded and is not in a different action\\
Expected Result: Player slides.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Slide decreases player velocity at a defined rate. \\
Expected Result: Player slows down during slide.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Slide can only be initiated if player is moving above a defined amount. \\
Expected Result: Player slides if moving above defined amount. Else, player does not slide\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Slide animation plays if a slide is initiated. \\
Expected Result: Player slide animation plays which makes the model look as if it is sliding.\\
Actual Result: No animation plays.\\
Status: Failure
\subsubsection{Re-spawn - \textit{Brian Mc George}}
The player will automatically re-spawn at the the last checkpoint reached. The re-spawn triggers at a defined vertical velocity (currently 15 metres per second). The screen starts to dim once triggered, once the screen dims to a defined value the player then re-spawns at the last checkpoint reached. The screen then clears at a defined rate. This activity still needs to be implemented for coop.
\smallskip\\\textbf{Tests prepared}\\
Description: Screen dims when the velocity the player is falling at a defined rate\\
Expected Result: Screen starts to dim.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Screen clears when the velocity the player is not falling at a defined rate\\
Expected Result: Screen starts to clear.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Player re-spawns when the screen dims beyond a defined amount\\
Expected Result: Player re-spawns at last checkpoint reached and screen clears.\\
Actual Result: As expected.\\
Status: Pass
\subsubsection{Checkpoints - \textit{Brian Mc George}}
When the player reaches a defined checkpoint, if that checkpoint has not been reached before, the system updates the latest checkpoint and sets it to that checkpoint. The system adds that checkpoint to the set of checkpoints reached already. The functionality is complete for both players. Checkpoints need to be added to the new parts of the level.
\smallskip\\\textbf{Tests prepared}\\
Description: Latest checkpoint updates if the players reaches a checkpoint not in set of checkpoints reached.\\
Expected Result: Latest checkpoint set as the current checkpoint reached.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Latest checkpoint does not update if the players reaches a checkpoint already in set of checkpoints reached.\\
Expected Result: No change to system.\\
Actual Result: As expected.\\
Status: Pass

\subsection{Environment}
\subsubsection{Aircon vent expels steam to slow player - \textit{Brian Mc George}}
The aircon is activated by pressing a switch in the area. When activated, the aircon expels hot steam which slows the player down and decreases their vision if they interact with the steam. It uses two different parameters for slowing down and speeding up the player. This activity is fully implemented.
\smallskip\\\textbf{Tests prepared}\\
Description: Player only slowed when the aircon is active.\\
Expected Result: Player is slowed.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Steam only shows if aircon is active.\\
Expected Result: Steam effect expelled from aircon vent.\\
Actual Result: As expected.\\
Status: Pass
\smallskip\\
Description: Player is not slowed when the aircon is not active.\\
Expected Result: Player is not slowed.\\
Actual Result: As expected.\\
Status: Pass

\subsubsection{Level Design - \textit{Timothy Gwynn and Brian Mc George}}
85\% of level designed during report period.

\subsubsection{Level creation - \textit{Timothy Gwynn}}
70\% of basic world created with 50\% of the props placed in the world. Majority of the world textures and normal mapping still need to be placed. Some of the colliders are outstanding.

\subsection{Head-up display (HUD)}
\subsubsection{Time - \textit{Brian Mc George}}
The HUD displays the current time. The time on the HUD updates. This feature needs to be expanded to two players.
\subsubsection{Position - \textit{Brian Mc George}}
The HUD currently displays a place-holder position. The calculation of position still needs to be calculated.
\subsubsection{Dynamic movement - \textit{Brian Mc George}}
The HUD sways from side to side when the player runs and is grounded. The HUD sway speed and amount is configurable.
\smallskip\\\textbf{Tests prepared}\\
Description: HUD only sways when player is grounded.\\
Expected Result: HUD sways from side to side.\\
Actual Result: As expected.\\
Status: Pass

\subsection{Miscellaneous}
\subsubsection{Intro fly over script - \textit{Brian Mc George}}
Takes a set of empty game objects and lerps the camera to each object's position and rotation in turn. The functionality is complete. Once the world is finalised the final flyover way-points and speed of fly over will be set.

\section{Planned activities for the next period}
\subsection{Complete layout and construction of levels}
The creation of levels has been progressing well but is not yet complete. Level creation will continue as it has been, until all levels have been constructed to a reasonable degree. Finer details such as texturing and tessellation will be deferred to a slightly later period. 
\subsection{Implement support for local multiplayer}
In order to satisfy one of the original project requirements, the game needs to be playable by multiple players simultaneously. To do this the project will support split-screen local multiplayer for 2 players. The addition of multiplayer support also allows for the testing of more complex aspects of level design and player interaction.
\subsection{Continue tuning and smoothing of player movement}
Most player movements and interactions have been implemented but more work is needed to ensure that it feels smooth fits well into the environment. This is essential in order to achieve the primary goal of the game's design which is making the players feel immersed and empowered.
\subsection{Implement the functionality for enemies and AI}
Enemy assets and behaviour have yet to be included and are a necessary component to the feel and pacing of the game. This is also important in order for the project to satisfy one of the original requirements for the existence and actions of in-game enemies.
\subsection{Link up player animations to player movement}
As above, most player movements and interactions have been implemented, but they have yet to be linked with their associated animations. At the time of writing we have received some (but not all) of the necessary animation assets from the artists and they are on schedule to deliver those that remain.

\section{Problems}
\subsection{Player camera unexpectedly low (Resolved)}
The player view was located near the bottom of the player controller capsule which caused many obstacles to appear much larger than intended. This was resolved by adding a y-offset to the camera to raise it to a more realistic height.

\subsection{Player Vault caused player to get stuck in objects (Resolved)}
The vault mechanic would sometimes drop a player into an object if it was too wide. This was resolved by doing a check on how wide the object being vaulted over was.

\subsection{Player vault does not shrink the player collider vertically as intended (Unresolved)}
This means that the player controller may be unable to vault over objects in environments with a low barrier above such as the passage. Will be fixed when animations are added to the player controller.

\subsection{Player can "climb" through walls (Unresolved)}
Some objects close to walls are a suitable height for the player to climb onto. Since the climb mechanic forces the player controller to move forward as well this can result in the player moving through thin walls. Should be resolved by labelling such objects as un-climbable.

\subsection{Art assets have no colliders (Partially Resolved)}
The assets from artists do not come with colliders so the player cannot interact with them. Resolved by manually adding colliders to art assets and creating prefabs

\subsection{No way for the player to run along top of crane (Unresolved)}
The crane does not appear to be a solid surface and has a central tower in the middle both of which make using it as a path during gameplay unintuitive. The artists have been asked to redesign this asset.

\section{Revised Schedule and Goals}
Please see updated Gantt chart, \textit{TempestTraceGanttChart.pdf}. Some deliverables were not thought of at the last stage such as the heads-up display, checkpoints, re-spawn, motion blur and head bob. The level creation has taken longer than expected and more time has been allocated to the task.
\end{document}
